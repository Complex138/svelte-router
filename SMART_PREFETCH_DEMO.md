# Smart Prefetch Demo üöÄ

–î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —É–º–Ω–æ–≥–æ prefetch –≤ svelte-router-v5.

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ 1: –°—Ç—Ä–æ–∫–æ–≤—ã–µ middleware
**–°—Ç–∞—Ç—É—Å**: –£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢! 
–°—Ç—Ä–æ–∫–æ–≤—ã–µ middleware —É–∂–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤ –∫–æ–¥–µ:
```javascript
export const routes = {
  '/profile': {
    component: Profile,
    middleware: ['auth', 'logger'] // ‚Üê –≠–¢–û –£–ñ–ï –†–ê–ë–û–¢–ê–ï–¢!
  }
};
```

### ‚úÖ –ü—Ä–æ–±–ª–µ–º–∞ 2: –£–º–Ω—ã–π prefetch
**–°—Ç–∞—Ç—É—Å**: –ò–°–ü–†–ê–í–õ–ï–ù–û! 
–î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —É–º–Ω–æ–≥–æ prefetch –≤ LinkTo –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ Navigation.js.

## –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –£–º–Ω—ã–π prefetch –≤ LinkTo
```javascript
<!-- –û–±—ã—á–Ω—ã–π prefetch -->
<LinkTo route="/dashboard" prefetch="hover">Dashboard</LinkTo>

<!-- –£–º–Ω—ã–π prefetch - –∏–∑—É—á–∞–µ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω—ã –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ -->
<LinkTo route="/dashboard" prefetch="smart">Dashboard</LinkTo>
```

### 2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±—É—á–µ–Ω–∏–µ
–†–æ—É—Ç–µ—Ä —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –ø—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ä–æ—É—Ç—ã:

```javascript
// Navigation.js –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥—ã
smartPrefetch.recordNavigation(fromPath, toPath);

// LinkTo –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ prefetch –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–µ —Ä–æ—É—Ç—ã
const predicted = smartPrefetch.predictNext(route);
if (predicted.length > 0) {
  await prefetchRelated(predicted.slice(0, 2), { parallel: true });
}
```

### 3. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ prefetch
- `hover` - prefetch –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `visible` - prefetch –ø—Ä–∏ –ø–æ—è–≤–ª–µ–Ω–∏–∏ –≤ viewport
- `mount` - prefetch –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- `smart` - **–ù–û–í–û–ï!** –£–º–Ω—ã–π prefetch —Å –æ–±—É—á–µ–Ω–∏–µ–º
- `none` - –æ—Ç–∫–ª—é—á–∏—Ç—å prefetch

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```javascript
// App.svelte
<script>
  import { createNavigation, LinkTo, RouterView } from 'svelte-router-v5';
  import { routes } from './routes.js';
  
  const currentComponent = createNavigation(routes);
</script>

<main>
  <nav>
    <!-- –û–±—ã—á–Ω—ã–µ —Å—Å—ã–ª–∫–∏ -->
    <LinkTo route="/" className="nav-link">Home</LinkTo>
    <LinkTo route="/about" className="nav-link">About</LinkTo>
    
    <!-- –£–º–Ω—ã–π prefetch - –∏–∑—É—á–∏—Ç, –∫—É–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ–±—ã—á–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç -->
    <LinkTo route="/dashboard" prefetch="smart" className="nav-link">
      Dashboard
    </LinkTo>
    
    <!-- –£–º–Ω—ã–π prefetch —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π -->
    <LinkTo route="/profile" prefetch="smart" prefetchDelay={200} className="nav-link">
      Profile
    </LinkTo>
  </nav>
  
  <RouterView currentComponent={$currentComponent} />
</main>
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–û–±—É—á–µ–Ω–∏–µ**: –ü—Ä–∏ –∫–∞–∂–¥–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Ä–æ—É—Ç–µ—Ä –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –ø–µ—Ä–µ—Ö–æ–¥—ã –≤ –∏—Å—Ç–æ—Ä–∏—é
2. **–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ**: –ü—Ä–∏ hover/visible/mount –Ω–∞ LinkTo —Å `prefetch="smart"`:
   - –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–µ–∫—É—â–∏–π —Ä–æ—É—Ç
   - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
   - –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è 2 –Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω—ã—Ö —Å–ª–µ–¥—É—é—â–∏—Ö —Ä–æ—É—Ç–∞
3. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å–µ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –∫–µ—à–µ

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- **–ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –º–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã
- **–£–º–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–∞ —É—á–∏—Ç—Å—è –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å**: –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω—ã–µ —Ä–æ—É—Ç—ã
- **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: –ù–µ —Ç—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

–í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ:
- –û–±—ã—á–Ω—ã–µ prefetch —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ (`hover`, `visible`, `mount`, `none`)
- –°—Ç—Ä–æ–∫–æ–≤—ã–µ middleware —É–∂–µ —Ä–∞–±–æ—Ç–∞–ª–∏
- –í—Å–µ API –æ—Å—Ç–∞–ª–∏—Å—å –Ω–µ–∏–∑–º–µ–Ω–Ω—ã–º–∏

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–¢–µ–ø–µ—Ä—å svelte-router-v5 –∏–º–µ–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É:
- ‚úÖ –°—Ç—Ä–æ–∫–æ–≤—ã—Ö middleware (—É–∂–µ —Ä–∞–±–æ—Ç–∞–ª–æ)
- ‚úÖ –£–º–Ω–æ–≥–æ prefetch (–¥–æ–±–∞–≤–ª–µ–Ω–æ)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (–¥–æ–±–∞–≤–ª–µ–Ω–æ)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å LinkTo –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–º (–¥–æ–±–∞–≤–ª–µ–Ω–æ)

–†–æ—É—Ç–µ—Ä —Å—Ç–∞–ª –µ—â–µ –±–æ–ª–µ–µ –º–æ—â–Ω—ã–º –∏ —É–º–Ω—ã–º! üéâ
